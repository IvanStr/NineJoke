@{
    this.ViewData["Title"] = "Home Page";
}

<style>
    img {
        width: 100%;
        object-fit: contain;
    }

    video {
        width: 100%;
        object-fit: contain;
    }

    /* HIDE RADIO */
    [type=checkbox] {
        position: absolute;
        opacity: 0;
        width: 0;
        height: 0;
    }

        /* IMAGE STYLES */
        [type=checkbox] + [id=a] {
            cursor: pointer;
            color: grey
        }

        /* CHECKED STYLES */
        [type=checkbox]:checked + [id=a] {
            color: blue;
        }
</style>

<div align="center">
    @foreach (var post in Model)
    {
        <div class="col-10 col-sm-10 col-md-8 col-lg-7 mb-7" style="padding-bottom: 20px">
            <div class="card h-100">
                <div>
                    <a asp-controller="Post" asp-action="PostDetails" asp-route-id="@post.Id"><h2 style="color:black;" class="card-title font-weight-bold">@post.Title</h2></a>
                </div>
                @if (@post.FilePath.EndsWith("webm"))
                {
                        <div class="card-img-top zoom">
                            <video controls>
                                <source src="@post.FilePath" type="video/webm">
                            </video>
                        </div>
                }
                else
                {
                    <a asp-controller="Post" asp-action="PostDetails" asp-route-id="@post.Id">
                        <div class="card-img-top zoom">
                            <img src="@post.FilePath" alt="@post.Title">
                        </div>
                    </a>
                }
                <div>
                    <div style="text-align: left; width: 95%">
                        <p><h6>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@post.Description</h6></p>
                    </div>
                    <div class="pb-1 mt-1">
                        <span class="stars mx-auto pb-1 text">points: @post.VoteCount - @(post.CommentCount == 1 ? "comment: " : "comments: ") @post.CommentCount - Category: @post.CategoryName</span>
                    </div>
                </div>
                <div class="card-footer d-flex justify-content-around bg-white pl-0 pr-0 pt-0 pb-0">
                    <label>
                        <input type="checkbox" class="radio" value="-1" name=@post.Id />
                        <i id="a" class="fa fa-caret-down" style="font-size:50px;"></i>
                    </label>

                    <label>
                        <input type="checkbox" class="radio" value="1" name=@post.Id />
                        <i id="a" class="fa fa-caret-up" style="font-size:50px;"></i>
                    </label>
                </div>
            </div>
        </div>
    }
</div>

<script>
    $("input:checkbox").on('click', function () {
        var $box = $(this);
        if ($box.is(":checked")) {

            var group = "input:checkbox[name='" + $box.attr("name") + "']";

            $(group).prop("checked", false);
            $box.prop("checked", true);
        } else {
            $box.prop("checked", false);
        }
    });
</script>
